"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{51535:function(e,t,n){n.d(t,{O:function(){return en}});var i=n(52322),a=n(38035),r=n(2784),s=n(71383),l=n(45462),o=n(92566),d=n(23764),c=n(92035),u=n(40382),m=n(28535),h=n(17993),g=n(62614),x=n(28165),p=n(54933),v=n(49929),j=n(5879),f=n(38045),b=n(4742),w=n.n(b),C=n(9850),y=n.n(C),I=n(93199),k=n(99332),S=n(31601),G=n(7096),_=n(15889),A=n(61387),M=n(27917),N=n(5968),E=n(25887),z=n(70965),T=n(97912),L=n(95647),P=n(13867),R=n(51555);let V=(0,f.E)(m.xu),O=e=>{let{card:t,theme:n,...a}=e,s=(0,r.useMemo)(()=>{if(t)return(0,M.vL)({docFlags:{cardLayoutsEnabled:!0}},[t])},[t]);return(0,i.jsx)(V,{pointerEvents:"none",sx:{"*":{backdropFilter:"none !important",transitionProperty:"background-color, color, border-color, padding, margin, width, maxWidth, fontSize",transitionDuration:".15s",[".button .".concat(G.A8)]:{transitionProperty:"none"}},".doc-content-wrapper *[data-doc-background-element], .motion-present-mode-bg":{display:"none"},".card-wrapper,.card-body,.doc-content-wrapper":{padding:0,margin:0,minHeight:"auto"},"[data-card-body]":{"--card-color-transparent":"var(--card-color)","--card-background-color":"var(--card-color)","--card-width":"60rem"},".logo":{display:"none"}},...a,children:s&&n&&(0,i.jsx)(N.m,{content:s,initialContent:s,theme:n})})},D=(e,t,n)=>{let i=0,a=e=>{var r;return null===(r=e.content)||void 0===r?void 0:r.map(e=>{var r,s,l,o,d,c,u;let m={...e,attrs:{...e.attrs}};if("image"===e.type){let e=t.shift();e&&(m.attrs.src=e.imageUrl,m.attrs.tempUrl=e.imageUrl)}if("cardAccentLayoutItem"===e.type&&(null===(l=e.attrs)||void 0===l?void 0:null===(s=l.background)||void 0===s?void 0:null===(r=s.image)||void 0===r?void 0:r.src)){let e=null==n?void 0:null===(u=n.config)||void 0===u?void 0:null===(c=u.accentBackgrounds)||void 0===c?void 0:c[i];e&&(i++,m.attrs.background=e)}if("smartLayoutCell"===e.type&&(null===(d=e.attrs)||void 0===d?void 0:null===(o=d.image)||void 0===o?void 0:o.src)==="custom"){let e=t.shift();e&&(m.attrs.image.src=e.imageUrl,m.attrs.image.tempUrl=e.imageUrl)}return e.content&&(m.content=a(m)),m})};return Object.assign({},e,{content:a(e)})},F=e=>{e&&requestAnimationFrame(()=>{var t;return null===(t=document.querySelector('[data-theme-id="'.concat(e,'"]')))||void 0===t?void 0:t.scrollIntoView({behavior:"smooth"})})},q=e=>{let{images:t}=e,n=(0,s.TL)(),l=(0,s.CG)(o.ez),d=(0,s.CG)(o.$b),u=(0,S.z$)(),m=(0,E.zE)(),[f,b]=(0,L.Ns)("themeId"),C=(0,s.CG)(I.PB),G=(0,r.useCallback)(e=>{b(e),null==u||u.track(S.AA.AI_DOC_CREATION_THEME_CLICKED,{themeId:e||"none",device:(0,c.l7)(),generationType:C})},[u,b,C]),M=l.find(e=>f===e.id);(0,r.useEffect)(()=>{if(f||!(null==l?void 0:l.length))return;n((0,o.uG)({activeView:"standard"}));let e=w()(d),t=(null==m?void 0:m.defaultThemeId)||(null==e?void 0:e.id);t&&(b(t),F(t))},[n,f,d,l,b,null==m?void 0:m.defaultThemeId]);let N=(0,r.useMemo)(()=>D(y()((0,k.s)()),y()(t),M).content[0].content||[],[M,t]),V=(0,r.useCallback)(()=>{if(!l)return;let e=w()(l);e&&(b(e.id),(null==e?void 0:e.workspaceId)?n((0,o.uG)({activeView:"custom"})):n((0,o.uG)({activeView:"standard"})),F(null==e?void 0:e.id))},[n,b,l]),q=(0,z.iq)({base:0,"4xl":300})||0,H=(0,z.iq)({base:600,xl:250,"4xl":0})||0,U=(0,z.iq)({base:0,xl:1})||0,W=(0,z.iq)({base:.5,lg:.6,xl:.7,"2xl":.85,"3xl":1,"4xl":1.125});return(0,r.useEffect)(function(){l&&0!==l.length&&Promise.all(l.map(e=>{var t,n,i,a,r,s,l,o,d,c;(null===(i=e.config.accentBackgrounds)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:null===(t=n.image)||void 0===t?void 0:t.src)&&(0,T.GN)(null===(o=e.config.accentBackgrounds)||void 0===o?void 0:null===(l=o[0].image)||void 0===l?void 0:l.src),(null===(s=e.config.accentBackgrounds)||void 0===s?void 0:null===(r=s[1])||void 0===r?void 0:null===(a=r.image)||void 0===a?void 0:a.src)&&(0,T.GN)(null===(c=e.config.accentBackgrounds)||void 0===c?void 0:null===(d=c[1].image)||void 0===d?void 0:d.src)}))},[l]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.B,{theme:M}),(0,i.jsxs)(a.k,{zIndex:1,py:0,px:6,"data-theme-desktop-root":!0,position:"relative",children:[(0,i.jsx)(x.xB,{styles:{html:{overflowX:"hidden",overflowY:"auto"}}}),(0,i.jsxs)(a.k,{direction:"column",pos:"relative",flex:1,h:"100%",transform:"scale(".concat(W,")"),justifyContent:"center",alignItems:"center",ms:[40,35,30,20,0],"data-id":"theme-picker-desktop-cards",children:[(0,i.jsx)(O,{pos:"absolute",theme:M,card:N[2],initial:{opacity:0},animate:{opacity:1,translateX:0,transition:{opacity:{duration:.5,delay:0,ease:"easeOut"},default:{duration:2,ease:"easeOut"}}},zIndex:1}),(0,i.jsx)(O,{pos:"absolute",theme:M,card:N[0],initial:{translateX:0,opacity:0},animate:{translateX:q,translateY:H,rotate:-U,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}}),(0,i.jsx)(O,{pos:"absolute",theme:M,card:N[1],initial:{translateX:0,opacity:0},transformOrigin:"center",animate:{translateX:-q,translateY:-H,rotate:U,opacity:1,transition:{default:{duration:2,delay:.5,ease:"easeOut"}}}})]}),(0,i.jsxs)(a.k,{w:"420px",p:6,direction:"column",justifyContent:"center",bg:"whiteAlpha.900",borderRadius:"lg",h:"calc(100vh - var(--chakra-sizes-20))",minH:"700px",mb:4,shadow:"md",pos:"relative",position:"sticky",mt:6,children:[(0,i.jsx)(A.v,{title:(0,i.jsx)(j.cC,{id:"cQGp8b"}),description:(0,i.jsxs)(h.g,{w:"100%",align:"center",justify:"center",children:[(0,i.jsx)(P.j,{w:"100%",children:(0,i.jsx)(j.cC,{id:"ziAjHi"})}),(0,i.jsx)(g.z,{w:"100%",leftIcon:(0,i.jsx)(v.G,{icon:p.a_u,color:"var(--chakra-colors-trueblue-800)"}),size:"md",onClick:V,children:(0,i.jsx)(j.cC,{id:"B8w15Q"})})]}),stackProps:{pb:4},currentTheme:M,showCreateButtons:!1}),(0,i.jsx)(_.t,{shouldScrollToCurrent:!0,currentTheme:M,setTheme:e=>{G(null==e?void 0:e.id)},flexProps:{overflowY:"auto",mx:-6,px:3},disableEditing:!0})]})]})]})};var H=n(43297),U=n(74409),W=n(77533),Y=n(75768),B=n(29117),K=n(42946),J=n(43997),X=n(74462),Q=n(85949),$=n(92154),Z=n(43271),ee=n(97134);let et=()=>{let e=(0,r.useRef)(!1),t=(0,s.CG)(o.Y3),n=(0,s.CG)(o.$b),l=(0,S.z$)(),d=(0,s.CG)(I.PB),[u,h]=(0,L.Ns)("themeId",{debounce:500}),[p,f]=(0,r.useState)(()=>t.find(e=>e.id===u)),b=(0,J.I0)(),{currentWorkspace:C}=(0,ee.SE)(),{data:y}=(0,Q.WaV)({variables:{id:null==C?void 0:C.id},skip:!(null==C?void 0:C.id)}),k=null==y?void 0:y.workspace,G=(0,s.CG)(o.C0),_=(0,s.CG)(o.FM),A=p?(0,Z.wj)(p):void 0;(0,r.useEffect)(()=>{if(u||!(null==n?void 0:n.length)||e.current)return;let i=w()(n),a=t.find(e=>e.id===(null==k?void 0:k.defaultThemeId))||i;if(a){var r;b((0,o.uG)({activeView:"standard"})),f(a),null===(r=document.querySelector('[data-theme-mobile-preview="'.concat(a.id,'"]')))||void 0===r||r.scrollIntoView(),e.current=!0}},[b,n,u,t,null==k?void 0:k.defaultThemeId]),(0,r.useEffect)(()=>{var t;!e.current&&u&&p&&(p.workspaceId?b((0,o.uG)({activeView:"custom"})):b((0,o.uG)({activeView:"standard"})),null===(t=document.querySelector('[data-theme-mobile-preview="'.concat(p.id,'"]')))||void 0===t||t.scrollIntoView(),e.current=!0)},[b,p,u]);let M=(0,r.useCallback)(e=>{let{scrollLeft:n,scrollWidth:i,clientWidth:a}=e.target,r=Math.round(n/(i-a)*(t.length-1)),s=t[r];s.id!==(null==p?void 0:p.id)&&f(s)},[t,null==p?void 0:p.id,f]),E=(0,r.useCallback)(()=>{(null==p?void 0:p.id)&&(h(p.id),null==l||l.track(S.AA.AI_DOC_CREATION_THEME_CLICKED,{themeId:p.id,device:(0,c.l7)(),generationType:d}))},[l,d,null==p?void 0:p.id,h]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(R.B,{theme:p}),(0,i.jsxs)(H.K,{spacing:0,h:"100%",w:"100vw",children:[(0,i.jsx)(x.xB,{styles:{html:{height:"100%"},body:{height:"100%"}}}),(0,i.jsxs)(H.K,{spacing:0,mx:"auto",zIndex:1,px:6,pt:20,sx:N.n,w:"100%",children:[(0,i.jsxs)(H.K,{align:"center",spacing:1,children:[(0,i.jsx)(U.X,{letterSpacing:"-0.04em",fontWeight:"700",fontFamily:"p22-mackinac-pro",color:A?"#FFFFFF":"#0a1629",w:"100%",size:"2xl",transitionProperty:"common",transitionDuration:"normal",children:(0,i.jsx)(j.cC,{id:"cQGp8b"})}),(0,i.jsx)(W.x,{fontSize:"lg",color:A?"#FFFFFF":"#0a1629",letterSpacing:"-0.04em",transitionProperty:"common",transitionDuration:"normal",children:(0,i.jsx)(j.cC,{id:"950yV9"})})]}),G&&(0,i.jsxs)(Y.h,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",pt:2,justifyContent:"center",children:[(0,i.jsx)(g.z,{borderRadius:"full",leftIcon:(0,i.jsx)(v.G,{icon:K.D0h,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===_?"trueblue":"gray",bg:"custom"===_?"trueblue.100":"gray.100",onClick:()=>b((0,o.uG)({activeView:"custom"})),children:(0,i.jsx)(j.cC,{id:"8Tg/JR"})}),(0,i.jsx)(g.z,{borderRadius:"full",leftIcon:(0,i.jsx)(m.xu,{w:3.5,children:(0,i.jsx)(X.Y,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===_?"trueblue":"gray",bg:"standard"===_?"trueblue.100":"gray.100",onClick:()=>b((0,o.uG)({activeView:"standard"})),children:(0,i.jsx)(j.cC,{id:"TJBHlP"})})]})]}),(0,i.jsx)(a.k,{zIndex:1,pos:"relative",overflow:"auto",py:8,sx:{"scroll-snap-type":"x mandatory"},onScroll:M,children:(0,i.jsx)(B.U,{flex:1,spacing:6,px:12,pt:1,children:t.map(e=>(0,i.jsx)($.L,{isSelected:e.id===(null==p?void 0:p.id),theme:e},e.id))})}),(0,i.jsx)(a.k,{px:6,py:4,mb:2,justify:"center",zIndex:9,w:"100%",children:(0,i.jsx)(P.j,{size:"lg",w:"100%",onClick:E,children:(0,i.jsx)(j.cC,{id:"ziAjHi"})})})]})]})},en=(0,r.memo)(e=>{let{images:t=[]}=e;(0,l.a)();let n=(0,s.CG)(o.ez);return(0,u.gF)()&&(null==n?void 0:n.length)?(0,i.jsxs)(a.k,{direction:"column",justifyContent:"flex-start",flex:1,w:"100vw",h:"100%",children:[(0,i.jsx)(d.Y,{}),(0,c.s2)()?(0,i.jsx)(et,{}):(0,i.jsx)(q,{images:t})]}):null});en.displayName="ThemeStep"},46669:function(e,t,n){n.d(t,{$3:function(){return O},Td:function(){return R},p3:function(){return D}});var i=n(52322),a=n(82554),r=n(17993),s=n(10625),l=n(67046),o=n(62614),d=n(75009),c=n(332),u=n(99058),m=n(25481),h=n(77533),g=n(29117),x=n(35183),p=n(97166),v=n(29494),j=n(82655),f=n(42946),b=n(54933),w=n(49929),C=n(5879),y=n(87254),I=n(2784),k=n(37012),S=n(72842),G=n(95716),_=n(5946),A=n(11456),M=n(65695),N=n(25870),E=n(71121),z=n(72396),T=n(95647),L=n(85652);let P={aiGenerated:{label:()=>y.ag._({id:"O+LXs1"})},web:{label:()=>y.ag._({id:"c8iFRc"})},auto:{label:()=>y.ag._({id:"Dnn2XG"}),flag:"automatedImageProvider"},pictographic:{label:()=>y.ag._({id:"Xo8Ctl"}),flag:"aiImageProviderPictographic"},unsplash:{label:()=>y.ag._({id:"Oi5M1y"}),flag:"aiImageProviderUnsplash",badge:()=>(0,i.jsx)(a.C,{colorScheme:"trueblue",children:(0,i.jsx)(C.cC,{id:"YBt9YP"})})},giphy:{label:()=>y.ag._({id:"MK2yIS"}),flag:"aiImageProviderGiphy",badge:()=>(0,i.jsx)(a.C,{colorScheme:"trueblue",children:(0,i.jsx)(C.cC,{id:"YBt9YP"})})}},R=(0,I.memo)(()=>{var e;let[t]=(0,T.Ns)("imageProvider"),n=E.s[t]||S.QT,a=(null===(e=P[t])||void 0===e?void 0:e.label())||(null==n?void 0:n.label()),[s]=(0,T.Ns)("imageLicense"),l=(0,N.E)(s),[o]=(0,T.Ns)("imageStyle",{debounce:500}),[d]=(0,T.Ns)("imageModel");return(0,i.jsx)(L.j,{label:(0,i.jsx)(C.cC,{id:"an5hVd"}),colorScheme:"trueblue",icon:b.VmB,values:[a,"web"===t&&l,"aiGenerated"===t&&d&&(0,G.mw)(d).label(),"aiGenerated"===t&&o],testId:"image-settings-group",children:(0,i.jsxs)(r.g,{spacing:4,children:[(0,i.jsx)(O,{}),(0,i.jsx)(D,{})]})})});R.displayName="ImageSettingsGroup";let V=(0,I.memo)(e=>{var t;let{provider:n,providerKey:a,setProvider:r}=e,x=(0,k.ye)("automatedImageProvider");return(0,i.jsxs)(s.v,{isLazy:!0,matchWidth:!0,children:[(0,i.jsx)(l.j,{as:o.z,variant:"plain",w:"100%",textAlign:"start",justifyContent:"space-between",rightIcon:(0,i.jsx)(w.G,{icon:f.ptq}),leftIcon:n.image?(0,i.jsx)(d.E,{src:n.image.src,w:"1.5em",h:"1.5em",objectFit:"contain"}):n.icon?(0,i.jsx)(w.G,{icon:n.icon,fixedWidth:!0}):void 0,boxShadow:"none",size:"sm",children:null===n?P.auto.label():(null===(t=P[a])||void 0===t?void 0:t.label())||n.label()}),(0,i.jsx)(c.h,{children:(0,i.jsxs)(u.q,{maxH:"350px",overflowY:"auto",overflowX:"hidden",zIndex:"modalPopover",border:"1px solid",borderColor:"gray.200",children:[x&&(0,i.jsxs)(m.s,{onClick:()=>r("auto"),icon:(0,i.jsx)(w.G,{icon:j.qHV,fixedWidth:!0}),children:[P.auto.label(),(0,i.jsx)(h.x,{color:"gray.400",fontSize:"sm",children:(0,i.jsx)(C.cC,{id:"bQcSlJ"})})]}),Object.entries(E.s).map(e=>{let[t,{label:n,icon:a,description:s,featureFlag:l,image:o}]=e,{label:c,flag:u,badge:x}=P[t]||{};return l&&!k.VH.get(l)||u&&!k.VH.get(u)?null:(0,i.jsxs)(m.s,{onClick:()=>r(t),icon:o?(0,i.jsx)(d.E,{src:o.src,w:"1.5em",h:"1.5em",objectFit:"contain"}):a?(0,i.jsx)(w.G,{icon:a,fixedWidth:!0}):void 0,children:[(0,i.jsxs)(g.U,{children:[(0,i.jsx)(h.x,{children:(null==c?void 0:c())||n()}),x&&x()]}),s&&(0,i.jsx)(h.x,{color:"gray.400",fontSize:"sm",children:s()})]},t)})]})})]})});V.displayName="ImageProviderPicker";let O=()=>{let[e,t]=(0,T.Ns)("imageProvider"),n=E.s[e]||E.s.aiGenerated;return(0,i.jsxs)(x.NI,{children:[(0,i.jsx)(p.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(C.cC,{id:"qA0pmh"})}),(0,i.jsx)(V,{providerKey:e,provider:n,setProvider:t})]})},D=()=>{let[e]=(0,T.Ns)("imageProvider"),[t,n]=(0,T.Ns)("imageLicense"),[a,r]=(0,T.Ns)("imageStyle",{debounce:500}),[s,l]=(0,A.l)(),[o,d]=(0,T.Ns)("imageModel"),c=(0,I.useCallback)(e=>{d(e),l(e)},[d,l]),u=(0,_.oj)();return(0,I.useEffect)(()=>{o&&(u(o)||d(s))},[o,s,d,u]),(0,i.jsxs)(i.Fragment,{children:["web"===e&&(0,i.jsxs)(x.NI,{children:[(0,i.jsx)(p.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(C.cC,{id:"6TSHCF"})}),(0,i.jsx)(N.A,{value:t,onChange:n})]}),"aiGenerated"===e&&(0,i.jsxs)(x.NI,{children:[(0,i.jsx)(p.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(C.cC,{id:"X2yiuT"})}),(0,i.jsx)(v.g,{value:a,onChange:e=>r(e.target.value),placeholder:y.ag._({id:"5x/foo"}),rows:2,maxLength:z.V4})]}),"aiGenerated"===e&&(0,i.jsxs)(x.NI,{children:[(0,i.jsx)(p.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(C.cC,{id:"emv9SK"})}),(0,i.jsx)(M.q,{value:o||s,setValue:c})]})]})}},85652:function(e,t,n){n.d(t,{j:function(){return f}});var i=n(52322),a=n(87436),r=n(95897),s=n(29117),l=n(28535),o=n(43297),d=n(77533),c=n(36474),u=n(89511),m=n(11121),h=n(67109),g=n(49929),x=n(2784),p=n(93199),v=n(71383);let j={_groupHover:{color:"purple.600"}},f=(0,x.memo)(e=>{let{icon:t,colorScheme:n="gray",label:x,values:f=[],children:b,testId:w}=e,C=!(0,v.CG)(p.RB);return(0,i.jsx)(a.Q,{border:"none",children:e=>{let{isExpanded:a}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.K,{_focus:{boxShadow:"none",outline:"none"},py:2,p:3,outline:"none",transitionProperty:"common",transitionDuration:"normal",bg:"transparent",_hover:{bg:"".concat(n,".50")},"data-testid":w,children:(0,i.jsxs)(s.U,{width:"100%",spacing:"3",align:"start",children:[(0,i.jsx)(l.xu,{...j,display:"inline",fontSize:"sm",color:"".concat(n,".300"),children:(0,i.jsx)(g.G,{icon:t,fixedWidth:!0})}),(0,i.jsxs)(o.K,{spacing:0,align:"start",textAlign:"left",children:[(0,i.jsx)(d.x,{...j,fontWeight:"700",children:x}),!a&&(0,i.jsx)(d.x,{fontSize:"sm",fontWeight:"500",noOfLines:2,...j,children:f.filter(Boolean).join(" \xb7 ")})]}),(0,i.jsx)(c.L,{}),(0,i.jsx)(u.X,{...j})]})}),(0,i.jsx)(m.H,{p:4,pt:3,pb:6,children:C?(0,i.jsxs)(o.K,{spacing:4,pt:2,align:"start",children:[(0,i.jsx)(h.O,{w:"100%",height:"30px"}),(0,i.jsx)(h.O,{w:"100%",height:"30px"}),(0,i.jsx)(h.O,{w:"100%",height:"30px"})]}):b})]})}})});f.displayName="SettingsGroup"},4816:function(e,t,n){n.d(t,{B:function(){return T},o:function(){return M}});var i=n(52322),a=n(17993),r=n(77533),s=n(35183),l=n(97166),o=n(75768),d=n(62614),c=n(43297),u=n(29494),m=n(87651),h=n(54933),g=n(49929),x=n(64253),p=n(5879),v=n(87254),j=n(2784),f=n(40346),b=n(78456),w=n(23691),C=n(27419),y=n(72396),I=n(95647),k=n(96114),S=n(85652),G=n(89099),_=n(16556);let A=(0,j.memo)(e=>{let{tagsList:t,onClick:n}=e;return(0,i.jsx)(G.E,{pb:"2",align:"flex-start",w:"100%",children:t.map(e=>(0,i.jsx)(G.U,{children:(0,i.jsx)(_.Vp,{cursor:"pointer",colorScheme:"purple",boxShadow:"sm",_hover:{color:"white",bg:"purple.600"},onClick:()=>{n(e.value)},children:e.label})},e.label))})});A.displayName="SettingsTags";let M=(0,j.memo)(()=>{var e;let[t]=(0,I.Ns)("locale"),n=t?(0,C.jw)(t):null,[s]=(0,I.Ns)("textAmount"),[l]=(0,I.Ns)("textMode"),o=null===(e=(0,b.A)(E).find(e=>e.key===l))||void 0===e?void 0:e.label();return(0,i.jsx)(S.j,{label:(0,i.jsx)(p.cC,{id:"OuNFIM"}),colorScheme:"blue",icon:h.elf,values:[o,"preserve"!==l&&(0,k.XL)(s).label(),"generate"===l&&(null==n?void 0:n.displayName)],children:(0,i.jsxs)(a.g,{spacing:4,alignItems:"stretch",children:[(0,i.jsx)(N,{}),"preserve"===l&&(0,i.jsxs)(r.x,{fontSize:"xs",color:"gray.600",children:[(0,i.jsx)(p.cC,{id:"7j0VMp"})," ",(0,i.jsx)(x.Yq,{fontSize:"xs",label:v.ag._({id:"kVzbm6",values:{GAMMA_ARTIFACT_PROPER_NOUN:w.Yc}})})]}),"preserve"!==l&&(0,i.jsx)(T,{}),"generate"===l&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{}),(0,i.jsx)(R,{})]}),(0,i.jsx)(z,{})]})})});M.displayName="TextSettingsGroup";let N=()=>{let[e,t]=(0,I.Ns)("textMode"),n=(0,b.A)(E);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(l.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(p.cC,{id:"OuNFIM"})}),(0,i.jsx)(o.h,{size:"sm",isAttached:!0,width:"100%",children:n.map(n=>(0,i.jsx)(x.kH,{placement:"top",label:n.tip(),children:(0,i.jsx)(d.z,{variant:n.key===e?"plainSelected":"plain",boxShadow:"none",leftIcon:(0,i.jsx)(g.G,{icon:n.icon}),onClick:()=>t(n.key),width:"100%",children:n.label()})},n.label()))})]})},E=()=>[{label:()=>v.ag._({id:"ziAjHi"}),key:"generate",icon:h.ddb,tip:()=>v.ag._({id:"8mt5hR"})},{label:()=>v.ag._({id:"NIvI2q"}),key:"condense",icon:h.G_A,tip:()=>v.ag._({id:"owZbal"})},{label:()=>v.ag._({id:"c0sF7y"}),key:"preserve",icon:h.byT,tip:()=>v.ag._({id:"/JkXZq"})}],z=()=>{let[e,t]=(0,I.Ns)("locale"),n=(0,C.jw)(e);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(l.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(p.cC,{id:"f6Pzgf"})}),(0,i.jsx)(f.k,{locale:n,setLocale:t,buttonProps:{variant:"plain",size:"sm",width:"100%",textAlign:"left"}})]})},T=()=>{let[e,t]=(0,I.Ns)("textAmount"),[n]=(0,I.Ns)("textMode"),a=(0,b.A)(y.kq);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(l.l,{fontSize:"sm",fontWeight:"semibold",children:"condense"===n?(0,i.jsx)(p.cC,{id:"z7tEVo"}):(0,i.jsx)(p.cC,{id:"UmJg9q"})}),(0,i.jsx)(o.h,{size:"sm",isAttached:!0,width:"100%",children:Object.entries(a).map(n=>{let[a,{label:r,description:s,icon:l}]=n;return(0,i.jsx)(x.kH,{placement:"top",label:s(),children:(0,i.jsx)(d.z,{variant:e===a?"plainSelected":"plain",boxShadow:"none",onClick:()=>t(a),leftIcon:(0,i.jsx)(g.G,{icon:l}),width:"100%",textAlign:"left",children:r()})},a)})})]})},L=()=>{let[e,t]=(0,I.Ns)("audience",{debounce:500}),n=(0,j.useMemo)(()=>P(),[]);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(l.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(p.cC,{id:"CfNFS9"})}),(0,i.jsxs)(c.K,{spacing:3,children:[(0,i.jsx)(u.g,{size:"sm",minH:16,value:e,onChange:e=>t(e.target.value),maxLength:y.V4}),(0,i.jsx)(m.U,{in:""===e||null===e,children:(0,i.jsx)(A,{tagsList:n,onClick:e=>{t(e)}})})]})]})},P=()=>[{label:v.ag._({id:"9N+p+g"}),value:v.ag._({id:"pCuan7"})},{label:v.ag._({id:"Y9OrUQ"}),value:v.ag._({id:"no1XFa"})},{label:v.ag._({id:"vINKFZ"}),value:v.ag._({id:"H13RWO"})},{label:v.ag._({id:"5AIqvu"}),value:v.ag._({id:"hqe36h"})},{label:v.ag._({id:"bNrMlq"}),value:v.ag._({id:"kImdWQ"})}],R=()=>{let[e,t]=(0,I.Ns)("tone",{debounce:500}),n=(0,j.useMemo)(()=>V(),[]);return(0,i.jsxs)(s.NI,{children:[(0,i.jsx)(l.l,{fontSize:"sm",fontWeight:"semibold",children:(0,i.jsx)(p.cC,{id:"uAQyzk"})}),(0,i.jsxs)(c.K,{spacing:"3",children:[(0,i.jsx)(u.g,{size:"sm",minH:16,value:e,onChange:e=>t(e.target.value),maxLength:y.V4}),(0,i.jsx)(m.U,{in:""===e||null===e,children:(0,i.jsx)(A,{tagsList:n,onClick:e=>{t(e)}})})]})]})},V=()=>[{label:v.ag._({id:"Oojfbh"}),value:v.ag._({id:"L7fEtA"})},{label:v.ag._({id:"hzExWo"}),value:v.ag._({id:"F64cR2"})},{label:v.ag._({id:"wanXT9"}),value:v.ag._({id:"Gop378"})},{label:v.ag._({id:"ChasOQ"}),value:v.ag._({id:"lVYl+I"})},{label:v.ag._({id:"wTl0UK"}),value:v.ag._({id:"sFGQvg"})},{label:v.ag._({id:"4Nl9R0"}),value:v.ag._({id:"cspP/G"})}]},42080:function(e,t,n){n.d(t,{J:function(){return G},Y:function(){return S}});var i=n(52322),a=n(75768),r=n(32899),s=n(62614),l=n(29117),o=n(77533),d=n(28535),c=n(10625),u=n(67046),m=n(332),h=n(99058),g=n(44035),x=n(39237),p=n(42946),v=n(49929),j=n(64253),f=n(5879),b=n(87254),w=n(2784),C=n(4476),y=n(34308),I=n(31601),k=n(77198);let S=(0,w.memo)(e=>{let{onIncrement:t,onDecrement:n,maxCards:c,cardCount:u,...m}=e,h={boxShadow:"sm",bg:"white"};return(0,i.jsxs)(a.h,{isAttached:!0,flex:"1",...m,children:[null!=u&&(0,i.jsx)(r.h,{display:"flex",onClick:n,icon:(0,i.jsx)(v.G,{icon:p.Kl4}),"aria-label":b.ag._({id:"MrRUp2"}),width:2,...h}),(0,i.jsx)(s.z,{flex:"1",...h,_hover:{color:"inherit"},cursor:"default",children:(0,i.jsx)(j.kH,{label:(0,i.jsx)(f.cC,{id:"ukrE78"}),placement:"top",children:(0,i.jsx)(l.U,{spacing:1,cursor:"help",children:(0,i.jsxs)(o.x,{children:[(0,i.jsx)(d.xu,{as:"span",css:{fontVariantNumeric:"tabular-nums"},children:u})," ",(0,i.jsx)(f.cC,{id:"MU+gFM",values:{0:null!=u?u:0}})]})})})}),null!=u&&(0,i.jsx)(r.h,{display:"flex",onClick:t,icon:(0,i.jsx)(v.G,{icon:p.r8p}),"aria-label":b.ag._({id:"sFY+gw"}),width:2,isDisabled:u>=c,...h})]})});S.displayName="CardCountStepper";let G=(0,w.memo)(e=>{let{hint:t,cardCount:n,maxCards:a,onChange:r}=e,{openUpsellModal:d}=(0,y.z)(),j=(0,w.useMemo)(()=>[...Array(a)],[a]),b=(0,w.useMemo)(()=>[15,20,25,30].filter(e=>e>a),[a]),S=()=>{d({segmentEvent:I.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER})};return(0,i.jsxs)(c.v,{isLazy:!0,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right-start","right-end","right"]}}],children:[(0,i.jsx)(u.j,{size:"sm",boxShadow:"none",minW:"32",textAlign:"left",as:s.z,rightIcon:(0,i.jsx)(v.G,{size:"xs",icon:p.ptq}),children:(0,i.jsx)(f.cC,{id:"fFAIng",values:{0:null!=n?n:0}})}),(0,i.jsx)(m.h,{children:(0,i.jsx)(h.q,{zIndex:"tooltip",maxH:"90vh",overflow:"auto",children:(0,i.jsxs)(g._,{maxW:"200px",title:t,onChange:e=>{let t=Number(e);if(t>a){S();return}r(t)},value:"".concat(n),children:[j.map((e,t)=>{let n=t+1;return(0,i.jsx)(x.i,{value:"".concat(n),children:(0,i.jsx)(f.cC,{id:"bM4Wv5",values:{count:n}})},n)}),b.map(e=>(0,i.jsx)(x.i,{bg:"trueblue.50",border:"1px solid white",_hover:{bg:"trueblue.50",borderColor:"trueblue.200"},value:"".concat(e),children:(0,i.jsxs)(l.U,{spacing:"3",children:[(0,i.jsx)(o.x,{w:"100%",children:(0,i.jsx)(f.cC,{id:"bM4Wv5",values:{count:e}})}),e>a&&(0,i.jsx)(C.ER,{product:e<=k.sj?"plus":"pro"})]})},e))]})})})]})});G.displayName="CardCountDropdown"},93088:function(e,t,n){n.d(t,{O:function(){return v}});var i=n(52322),a=n(38035),r=n(62614),s=n(29117),l=n(49929),o=n(64253),d=n(5879),c=n(2784),u=n(21829),m=n(25556),h=n(81363),g=n(95647);let x=()=>{let[e]=(0,g.Ns)("imageProvider");return"aiGenerated"===e?"generateV2WithImages":"generateV2"};var p=n(36091);let v=(0,c.memo)(e=>{let{onClick:t,arrowIcon:n}=e,c=x(),{canGenerate:g,cantGenerateReason:v}=(0,p.F)(),{hasEnoughCreditsToGenerateDeck:j}=(0,m.qO)(),f=(0,m.YO)(t,"generateV2",h.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.kH,{label:j?v:(0,i.jsx)(d.cC,{id:"mTJ1YV"}),isDisabled:g&&j,children:(0,i.jsx)(a.k,{flex:"1",alignItems:"stretch",alignSelf:"stretch",justifyContent:"stretch",flexDirection:"column",children:(0,i.jsx)(r.z,{variant:"solid",w:"100%",rightIcon:(0,i.jsxs)(s.U,{children:[(0,i.jsx)(u.J,{type:c}),(0,i.jsx)(l.G,{icon:n})]}),onClick:f,isDisabled:!g,size:{base:"md",lg:"lg"},children:(0,i.jsx)(d.cC,{id:"xGVfLh"})})})})})});v.displayName="ContinueToThemePickerButton"},13867:function(e,t,n){n.d(t,{j:function(){return $}});var i=n(52322),a=n(38035),r=n(62614),s=n(54933),l=n(49929),o=n(64253),d=n(87254),c=n(2784),u=n(46692),m=n(25556),h=n(31601),g=n(4742),x=n.n(g),p=n(5632),v=n(87920),j=n(62216),f=n(25756),b=n(21697),w=n(85949),C=n(37012),y=n(71383),I=n(5361),k=n(27287),S=n(41742),G=n(90935),_=n(25762),A=n(61652),M=n(84044),N=n(97134),E=n(27419),z=n(16239),T=n(93199);let L=e=>{if(C.VH.get("generatorBigModelAlways"))return"big";let t="preserve"===e.textMode||"condense"===e.textMode,n=e.tokenLength>=1e3&&!e.canGenerateLongOutput,i=e.numCards&&e.numCards>=11&&!e.canGenerateLongOutput;return t||i||n?"big":"fast"},P=e=>{if("GenerateDeck3"===e.promptKey)return{size:void 0,model:C.VH.get("generateDeck3Model")};let t=L(e),n="big"===t?C.VH.get("generateDeckBigModel"):C.VH.get("generateDeckFastModel");return{size:t,model:n}};var R=n(32099),V=n(12194),O=n(69964),D=n(35534),F=n(33279),q=n(2309);let H=()=>{let{push:e}=(0,p.useRouter)(),[t]=(0,w.V$$)(),n=(0,C.ye)("createSiteAi"),i=(0,D._O)(),{generate:a}=(0,O.jz)("DetermineSiteMetadata",{}),[r]=(0,w.gVY)(),[s]=(0,w.Iyu)(),[l]=(0,w.D1_)();return{canCreateSite:n&&i,createSiteWithAIAndRedirect:(0,c.useCallback)(async n=>{let{workspaceId:i,docId:o,themeId:c,generateVars:u,firstCards:m}=n,h=m[0]?(0,R.getCardTitle)(m[0].content):void 0,{data:g}=await t({variables:{input:{workspaceId:i,name:h||d.ag._({id:"h3eRam"}),routes:[{docId:o,path:"/"}],themeId:c}}}),x=null==g?void 0:g.createSite;if(!x){console.error("[CreateSiteModal] Failed to create site, no site returned"),e("/docs/".concat(o,"?source=").concat(b.VY));return}try{let e=m.map(e=>e.raw).join("\n"),{language:t,instructions:n,input:d}=u,{promise:c}=a({workspaceId:i,variables:{topic:n||"",input:d,language:t,pageHtml:e}}),h=await c,{title:g,subdomain:p}=(0,q.R)(h);p=(0,V.IR)(p);let v="string"==typeof p&&p.length<=60&&/^[a-z0-9-]+$/.test(p.toLowerCase()),j=[];v&&j.push(r({variables:{input:{siteId:x.id,name:p}}})),g&&j.push(s({variables:{input:{siteId:x.id,name:g}}}),l({variables:{id:o,title:g}})),await Promise.all(j)}catch(e){console.error("(caught) useGenerateSite error: ".concat(e))}e((0,F.yQ)({docId:o,params:{source:b.VY}}))},[t,e,a,r,s,l])}};var U=n(95647),W=n(77198),Y=n(37164);let B=()=>{let{push:e}=(0,p.useRouter)(),[t]=(0,w.qbt)(),{generate:n}=(0,O.jz)("DeterminePageMetadata",{}),[i]=(0,w.D1_)();return{setPageMetadataWithAIAndRedirect:(0,c.useCallback)(async a=>{let{site:r,docId:s,workspaceId:l,generateVars:o,firstCards:d}=a;try{let{language:e,instructions:a,input:c}=o,u=r.routes.map(e=>{var t;return{title:null===(t=e.doc)||void 0===t?void 0:t.title,path:e.path}}),m=d.map(e=>e.raw).join("\n"),h=d[0]?(0,R.getCardTitle)(d[0].content):void 0,g=!0,{promise:x}=n({workspaceId:l,variables:{topic:a||"",input:c,language:e,otherPages:u,pageHtml:m}}),p=await x,{path:v,title:j}=(0,q.R)(p);j||(j=h||"Untitled page",g=!1),v||(v=(0,V.IR)(j)),v=(0,V.IR)(v),r.routes.some(e=>e.path===v)&&(v="".concat(v,"-").concat((0,Y.x0)(6))),await Promise.all([t({variables:{input:{siteId:r.id,docId:s,path:(0,S.fJ)(v),offline:!1}},refetchQueries:["GetSite"]}),i({variables:{id:s,title:j,titleEdited:g}})])}catch(e){console.error("(caught) useSetPageMetadataWithAI error: ".concat(e))}e((0,F.yQ)({docId:s,params:{source:b.VY}}))},[n,e,t,i])}},K=e=>{let{onSuccess:t}=e,n=(0,h.z$)(),{push:i,query:a}=(0,p.useRouter)(),r=a.channelId,s=(0,y.qr)(),l=(0,y.CG)(k.lH),{canCreateSite:o,createSiteWithAIAndRedirect:d}=H(),[u,m]=(0,U.Ns)("themeId"),{setPageMetadataWithAIAndRedirect:g}=B(),[L]=(0,w.Kb4)(),R=(0,C.ye)("generatorLazyImages"),[V,O]=(0,c.useState)(!1),D=(0,C.ye)("streamResumingEnabled"),{maxCards:F}=(0,W.hw)(),q=(0,w.jLg)(w.vGj);return{generate:(0,c.useCallback)(async()=>{var e;let a=s.getState(),c=(0,T.RB)(a),u=(0,T.U6)(a);if(!u)throw Error("Cannot generate with no docGenerateInputId");O(!0);let p=(0,N.TQ)(),y=(0,T.au)(a),k=(0,T.mO)(a),V=(0,T.lb)(a),H=(0,E.jw)((0,T.Mn)("locale")(a)),U=(0,T.Mn)("textAmount")(a),W=(0,T.Mn)("audience")(a),Y=(0,T.Mn)("tone")(a),B=(0,T.Lh)(a),K=(0,T.CC)(a),J=(0,T.Mn)("imageLicense")(a),Q=(0,T.Mn)("imageProvider")(a),$=(0,T.Mn)("styleTemplate")(a),Z=(0,T.Mn)("imageModel")(a)||C.VH.get("aiGeneratedImagesDefaultModel"),ee=(0,T.Mn)("imageStyle")(a),et=(0,T.Mn)("textMode")(a),en=(0,T.Mn)("editorMode")(a),ei=(0,T.PB)(a),ea="generate"!==ei,er=(0,T.Mn)("searchRequested")(a),es=(0,T.Mn)("themeId")(a),{search:el,searchProvider:eo,searchInGenerate:ed}=(0,z.r)(ei,er),ec={instructions:V,input:y,language:H.englishName,numCards:Math.min(K,F),format:B,textAmount:U,audience:W,tone:Y,textMode:et,editorMode:en,imageProvider:Q,search:ed,searchProvider:eo},eu=C.VH.get("growthSkipThemePickerOnFirstDeck")&&"generate"===ei,em=es||(eu?x()(G.nw):l?l.themeId:void 0);!es&&eu&&(await m(em),null==n||n.track(h.AA.SKIPPED_THEME_RANDOM_THEME_PICKED,{themeId:em||"none"}));let eh=em?(await q({id:em})).data.theme:void 0,eg=ee?"Custom":"Theme";"aiGenerated"===Q&&!ee&&eh&&(ee=(0,_.A)(eh));let ex=o&&"webpage"===B,ep=(0,S.Vr)(l)||ex,ev=C.VH.get("generateParallel")&&"structured"===ec.editorMode&&(ec.numCards>=11||k>=4e3),{promptKey:ej,canGenerateLongOutput:ef}=X(B,ev),{model:eb,size:ew}=P({numCards:K,editorMode:en,textMode:et,canGenerateLongOutput:ef,textAmount:U,generationType:ei,promptKey:ej,tokenLength:k}),eC=$;eC||"social"!==B||(eC="social_portrait");let ey=eC?{...A.STYLE_TEMPLATES[eC].docSettings}:{};"social"===B&&ey&&"lg"===ec.textAmount&&(ey.fontSize="md");let eI=ey||{},ek={docFormatKey:B,imageOptions:{license:J,provider:Q,generateStyle:ee,model:Z,stylePreset:eg},lazyImages:"aiGenerated"===Q||R,theme:eh,preserveLayouts:!1,cardDimensions:eI.cardDimensions},eS=null===(e=(await L({variables:{docGenerateInputId:u,options:{themeId:ep?void 0:em||M.g.id,orgAccess:ep?w.y3$.Manage:void 0,docSettings:eI,aiOptions:{preserveLayouts:ek.preserveLayouts,imageOptions:ek.imageOptions},channels:r?[{channelId:r}]:void 0}}})).data)||void 0===e?void 0:e.generateDoc,eG=null==eS?void 0:eS.docGenerateInput.id;if(!eG)throw Error("No docGenerateInput.id to use as interactionId");if(!eS)throw Error("Could not create doc");let{input:e_,instructions:eA,...eM}=ec;f.a.trackRequestSent(s,{interface:"wizard",streaming:!0,interactionId:eG,inputContent:ec.input,inputMessage:ec.instructions,inputData:{options:{...ek,theme:em},isGenerateV2:!0,isAdvancedMode:ea,isParallel:ev,generationType:ei,...eM,promptKey:ej,tokenLength:k,docSettings:eI,modelSize:ew,search:el,searchInGenerate:ed},docId:eS.id,docGenerationId:c,docGenerateInputId:eG});let{stream:eN,cancel:eE}=(0,j.ZE)({promptKey:ej,interactionId:eG,variables:{...ec,docId:eS.id,model:eb},workspaceId:null==p?void 0:p.id},{streamId:eS.id,streamResumingEnabled:D,retries:3}),ez=await (0,v.m3)({stream:eN,onCancel:eE,interactionId:eG,options:ek,bufferCards:1,store:s,docId:eS.id}).promise;(0,I.Q)({doc_id:eS.id,source:w.L17.AiGenerated,extra:"v2"}),!l&&ex?await d({workspaceId:null==p?void 0:p.id,docId:eS.id,generateVars:ec,themeId:em,firstCards:ez.cards}):l?(await g({docId:eS.id,site:l,workspaceId:null==p?void 0:p.id,generateVars:ec,firstCards:ez.cards}),null==t||t()):i("/docs/".concat(eS.id,"?source=").concat(b.VY))},[n,o,d,g,L,q,R,F,t,i,l,s,D,r,m]),isGenerating:V}},J=["GenerateDeckParallel","GenerateDeck2","GenerateDeck3","GenerateDeckContinuous"],X=(e,t)=>{let n=t?C.VH.get("generateDeckParallelPrompt"):C.VH.get("generateDeckPrompt");return{promptKey:n,canGenerateLongOutput:J.includes(n)}};var Q=n(36091);let $=(0,c.memo)(e=>{let{children:t,onClick:n,...g}=e,{onGenerateSuccess:x}=(0,u.Ry)(),{isGenerating:p,generate:v}=K({onSuccess:x}),{canGenerate:j,cantGenerateReason:f}=(0,Q.F)(),b=(0,c.useCallback)(async()=>{null==n||n(),await v()},[n,v]),w=(0,m.YO)(b,"generateV2",h.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2);return(0,i.jsx)(o.kH,{label:f,isDisabled:j,children:(0,i.jsx)(a.k,{flex:"1",alignSelf:"stretch",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",children:(0,i.jsx)(r.z,{leftIcon:(0,i.jsx)(l.G,{icon:s.JyM}),variant:"solid",isLoading:p,loadingText:d.ag._({id:"NOdFZR"}),isDisabled:p||!j,onClick:w,size:{base:"md",lg:"lg"},...g,children:t})})})});$.displayName="GenerateButton"},75863:function(e,t,n){n.d(t,{U:function(){return C}});var i=n(52322),a=n(43297),r=n(38035),s=n(29117),l=n(93199),o=n(74810),d=n(71383),c=n(81363),u=n(77533),m=n(64253),h=n(5879),g=n(2784),x=n(42080),p=n(72396),v=n(95647),j=n(77198);let f=(0,g.memo)(e=>{let{...t}=e,n=(0,d.CG)(l.CC),[r,s]=(0,v.Ns)("numCards"),{maxCards:o}=(0,j.hw)(),c=(0,g.useCallback)(()=>{if(!n)return;let e=n>=p.ON&&n%p.ni==0?p.ni:1;s(Math.min(n+e,o))},[n,s,o]),f=(0,g.useCallback)(()=>{if(!n||1===n)return;let e=n>=p.ON+p.ni&&n%p.ni==0?p.ni:1;s(Math.max(n-e,1))},[n,s]),[b]=(0,v.Ns)("editorMode"),w=n>o,C=Math.min(n,o);return"structured"===b?(0,i.jsx)(m.kH,{label:(0,i.jsx)(h.cC,{id:"Zne1Sw"}),placement:"top",children:(0,i.jsxs)(a.K,{spacing:{base:.5,sm:2},flex:"1",justifyContent:"center",alignItems:"center",direction:{base:"column-reverse",sm:"row"},children:[(0,i.jsx)(u.x,{cursor:"help",fontSize:w?"xs":"lg",fontWeight:w?void 0:"600",textDecoration:w?"line-through":void 0,color:w?"gray.500":void 0,css:{textWrap:"nowrap"},textAlign:"center",children:(0,i.jsx)(h.cC,{id:"AZLIlg",values:{cardCount:n}})}),w&&(0,i.jsx)(u.x,{fontSize:{base:"md",sm:"lg"},fontWeight:"600",lineHeight:"1",children:(0,i.jsx)(h.cC,{id:"gcpsjO",values:{adjustedCardCount:C}})})]})}):(0,i.jsx)(x.Y,{maxCards:o,cardCount:n,onIncrement:c,onDecrement:f,...t})});f.displayName="CardCountSettings";var b=n(96522),w=n(37413);let C=e=>{let{cta:t}=e,n=(0,d.CG)(l.Vn);if((0,d.CG)(l.$X))return null;let u=(0,i.jsx)(o.q,{modalId:"ai-credits-modal-generate-v2",variant:"ghost",justify:"flex-end",segmentEvent:c.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2,alignSelf:"center"});return(0,i.jsx)(w.J,{children:(0,i.jsxs)(a.K,{w:"100%",direction:{base:"column-reverse",md:"row"},spacing:{base:2,md:4},alignItems:{base:"center",md:"flex-end"},children:[(0,i.jsx)(r.k,{flex:"1",children:u}),(0,i.jsxs)(a.K,{w:"2xl",maxW:"100%",overflow:"hidden",children:[(0,i.jsx)(b.$0,{}),(0,i.jsx)(b.NM,{}),(0,i.jsx)(b.wq,{}),(0,i.jsxs)(s.U,{spacing:{base:2,md:3},opacity:n?.75:1,pointerEvents:n?"none":"inherit",cursor:n?"not-allowed":"default",children:[(0,i.jsx)(f,{size:{base:"md",lg:"lg"}}),(0,i.jsx)(r.k,{flex:"1",alignItems:"stretch",flexDirection:"column",children:t})]})]}),(0,i.jsx)(r.k,{flex:"1",display:{base:"none",md:"flex"}})]})})}},36091:function(e,t,n){n.d(t,{F:function(){return o}});var i=n(87254),a=n(71383),r=n(93199),s=n(26112);let l=(e,t)=>{switch(e){case"invalid-empty":return i.ag._({id:"9IxKHJ"});case"invalid-long":return i.ag._({id:"ZcJO3k",values:{maxTokens:t}})}},o=()=>{let{maxTokens:e}=(0,s.ml)(),t=(0,a.CG)((0,r.Gw)(e));return void 0===t?{canGenerate:!0,cantGenerateReason:void 0}:{canGenerate:!1,validationError:t,cantGenerateReason:l(t,e)}}},16239:function(e,t,n){n.d(t,{r:function(){return a}});var i=n(37012);let a=(e,t)=>{let n=i.VH.get("aiSearchMode");return"disabled"!==n&&"generate"===e&&("always"===n||"optional"===n&&t)?{search:!0,searchInGenerate:i.VH.get("aiSearchInGenerate"),searchProvider:i.VH.get("aiSearchProvider")}:{search:!1}}},87920:function(e,t,n){n.d(t,{Nl:function(){return j},m3:function(){return f},c1:function(){return v}});var i=n(95993),a=n(97590),r=n(25756),s=n(42795),l=n(12483),o=n(69274);class d extends i.GJ{constructor(e,t){super({transform:async(t,n)=>{if("data"!==t.event){n.enqueue(t);return}let{data:i}=t;try{let a=await (0,o.sj)(i,{...e,cardIndex:this.index,loadImages:!e.lazyImages}),r={index:this.index,cardComplete:!0,content:a,id:a.attrs.id,raw:i};n.enqueue({id:t.id,event:"data",data:r})}catch(t){console.error("[aiHtmlToCard] Skipping card ".concat(this.index," due to error:\n"),t),l.sU("aiHtml",i),l.sU("transformOptions",e),l.Tb(t),s.fy.logger.error("[aiHtmlToCard] Skipping card ${this.index} due to error",{sectionHtml:i,transformOptions:e},t)}this.index++}}),this.index=0,null!=t&&(this.index=t+1)}}let c=e=>{let t=e.match(/(<[^>]+>|<\/[^>]+>)|\S+/g);if(!t)throw Error("Could not parse tokens");return t};class u extends i.GJ{constructor(e){super({transform:async(t,n)=>{if("data"!==t.event){n.enqueue(t);return}let i=t.data,a=performance.now()-this.startTime,r=c(i.raw);e({index:this.index,duration:a,numTokens:r.length}),this.index++,this.startTime=performance.now(),n.enqueue(t)}}),this.index=0,this.startTime=performance.now()}}class m extends i.GJ{constructor(){super({transform:async(e,t)=>{"done"===e.event||"cancel"===e.event?t.enqueue({...e,content:this.content}):(this.content+=e.data.raw||"",t.enqueue(e))}}),this.content=""}}class h extends i.GJ{constructor(){let e=(e,t)=>{for(;;){let n=this._buffer.match(/<section\b[^>]*>(?:(?!<\/?section\b)[\s\S])*<\/section>/i);if(!n)break;let i=n[0],a=n.index;this._buffer=this._buffer.slice(a+i.length);let r=i+"\n\n";e.enqueue({id:t,event:"data",data:r})}};super({transform:async(t,n)=>{if("data"===t.event){if(!t.data)return;this._buffer+=t.data,e(n,t.id);return}this.lastId=t.id,n.enqueue(t)},flush:async t=>{e(t,this.lastId)}}),this._buffer=""}}class g extends i.GJ{constructor(){super({transform(e,t){if("done"===e.event){t.enqueue({id:e.id,event:"done",finishReason:e.data,content:""});return}if("cancel"===e.event){t.enqueue({id:e.id,event:"cancel",content:""});return}if("content"===e.event){t.enqueue({id:e.id,event:"data",data:e.data});return}console.error("[StreamMessageEventParser] unknown event type",e)}})}}var x=n(11310);let p="CANCEL",v=e=>new i.GJ({transform(t,n){e(t),n.enqueue(t)}}),j=e=>{let{stream:t,docId:n,lastCompletedCardId:i,lastCompletedCardIndex:s,interactionId:l,options:o,store:d}=e,[c,u]=b(t,o,s).tee(),m=c.pipeThrough(v(e=>{"done"===e.event&&r.a.trackStreamResponse(d,{interactionId:l,outputContent:e.content})}));(0,x.GO)(m,{}),d.dispatch((0,a.kO)({stream:{id:l,status:"running",stream:u,docId:n,isResuming:!0,lastCompletedCardId:i}}));let h=(0,a.oH)(n)(d.getState());if(!h)throw Error("Expected valid StreamResponse when resuming from stream");return h},f=e=>{let t,{stream:n,onCancel:i,interactionId:s,options:l,bufferCards:o=2,docId:d,store:c}=e,[m,h]=b(n,l).tee(),g=m.pipeThrough(new u(e=>{c.dispatch((0,a.Ms)({interactionId:s,data:e}))})).pipeThrough(v(e=>{"done"===e.event&&r.a.trackStreamResponse(c,{interactionId:s,outputContent:e.content})}));c.dispatch((0,a.kO)({stream:{id:s,status:"running",stream:h,isResuming:!1,docId:d}}));let j=new Promise((e,n)=>{t=n;let i=[];(0,x.GO)(g,{onError:e=>{n(e)},onMessage(t){if("done"===t.event){e({status:"READY",cards:i});return}if("data"===t.event){let n=t.data.index+1;i.push(t.data),n>=o&&e({status:"READY",cards:i})}}})}).catch(e=>{if(e===p)return{status:"CANCELED",cards:[]};throw e}),f=!1;return{promise:j,cancel:()=>{f||(console.log("[AIStream] cancelling..."),f=!0,i(),null==t||t(p))}}},b=(e,t,n)=>e.pipeThrough(new g).pipeThrough(new h).pipeThrough(new d(t,n)).pipeThrough(v(e=>{"data"===e.event&&console.log("[AIStream] processed card ".concat(e.data.index+1))})).pipeThrough(new m).pipeThrough(v(e=>{"done"===e.event&&console.log("[AIStream] done (".concat(e.finishReason,")")),"cancel"===e.event&&console.log("[AIStream] cancelled")}))},92154:function(e,t,n){n.d(t,{L:function(){return b}});var i=n(52322),a=n(28535),r=n(38035),s=n(43297),l=n(77533),o=n(73200),d=n(2784),c=n(54042),u=n(43271),m=n(65050),h=n(74216),g=n(97912),x=n(21500),p=n(58763),v=n(23047),j=n(7096),f=n(51131);let b=(0,d.memo)(e=>{let{theme:t,isSelected:n=!1}=e,{contentStyles:d}=t.config,b=(0,h.R5)(t),w=(0,u.wj)(t),C=(0,f.l)(t),y=(0,p.J)(t,!1),I=(0,h.wh)(b,w,g.Iv),{inViewport:k,ref:S}=(0,x.R)({dimensions:{width:350,height:220}});return!1===k?(0,i.jsx)(a.xu,{ref:S,"data-placeholder":!0,w:"100%",children:(0,i.jsx)(r.k,{w:"calc(100vw - 5rem)",minH:"10em",sx:{"scroll-snap-align":"center"},color:"transparent",bg:"whiteAlpha.100",children:t.name})}):(0,i.jsx)(a.xu,{css:C,sx:y,ref:S,w:"100%","data-theme-mobile-preview":t.id,children:(0,i.jsxs)(r.k,{flexDir:"column",w:"calc(100vw - 5rem)",sx:{"scroll-snap-align":"center"},borderRadius:"lg",shadow:n?"outline":"xl",overflow:"hidden",transitionProperty:"common",transitionDuration:"normal",transitionTimingFunction:"ease-out",pos:"relative",...I,children:[(0,i.jsx)(c.P,{theme:t}),(0,i.jsx)(a.xu,{sx:{...v.Fx,...d},borderRadius:"base",className:"".concat(m.pL," ").concat(w?"is-dark":""),color:w?"white":"gray.900",flex:1,pointerEvents:"none",children:(0,i.jsxs)(s.K,{p:6,children:[(0,i.jsx)(l.x,{className:"block-title",noOfLines:1,wordBreak:"break-all",mt:"0 !important",mb:"var(--chakra-space-2) !important",children:(0,i.jsx)(l.x,{as:"span",className:(0,o.cx)("title",j.A8),fontSize:"1.8em !important",paddingBottom:"0 !important",children:t.name})}),(0,i.jsxs)(l.x,{fontSize:"sm",noOfLines:[4,6],className:"block block-paragraph",my:"0 !important",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi dapibus iaculis sagittis."," ",(0,i.jsxs)(l.x,{as:"a",className:"link",children:[" ","Fusce pellentesque quam tortor,"]})," ","sit amet vulputate ligula sollicitudin nec. Etiam consectetur leo sed elit euismod, eget suscipit purus ullamcorper. Etiam id viverra purus. Nulla hendrerit sapien eget dui egestas posuere. Cras tristique condimentum tristique. Sed pellentesque felis sed justo ullamcorper molestie. Vestibulum et condimentum nibh, non pellentesque nisi."]})]})})]})})});b.displayName="ThemePreviewThumbnailMobile"}}]);
//# sourceMappingURL=8668-82a4e876b441c45d.js.map