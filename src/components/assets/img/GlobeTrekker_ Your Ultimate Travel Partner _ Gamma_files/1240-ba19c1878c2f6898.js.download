"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1240],{37413:function(e,t,i){i.d(t,{J:function(){return c}});var n=i(52322),r=i(38035),s=i(50019),o=i(38045),a=i(2784);let l=(0,o.E)(r.k),c=(0,a.memo)(e=>{let{children:t}=e,i=(0,s.ff)("gray.800","white"),r=(0,s.ff)("white","gray.800"),o=(0,s.ff)("blackAlpha.200","whiteAlpha.200");return(0,n.jsx)(l,{bg:r,color:i,py:3,position:"fixed",zIndex:"10",initial:{opacity:0,bottom:-10},animate:{opacity:1,bottom:0},exit:{opacity:0,bottom:0},borderTop:"1px solid",borderColor:o,px:{base:3,md:4},direction:"column",align:"center",w:"100%",children:t})});c.displayName="StickyBottomBar"},51555:function(e,t,i){i.d(t,{B:function(){return c}});var n=i(52322),r=i(28535),s=i(45462),o=i(43271),a=i(15998),l=i(74216);let c=e=>{let{theme:t}=e,i=(0,a.y)(),c=t||i,{isLoadingThemes:d}=(0,s.a)(),u=(0,l.R5)(c),m=(0,o.wj)(c),x=(0,l.wh)(u,m);return(0,n.jsx)(r.xu,{...d?{}:x,w:"100vw",h:"100%",position:"fixed",zIndex:-1,opacity:1,"data-theme-picker-background":!0,transitionProperty:"background-color, background-image",transitionDuration:"1s",inset:"0px"})}},96522:function(e,t,i){i.d(t,{$0:function(){return S},DE:function(){return T},NM:function(){return _},wq:function(){return E}});var n=i(52322),r=i(43297),s=i(28535),o=i(77533),a=i(62614),l=i(42946),c=i(49929),d=i(5879),u=i(2784),m=i(93199),x=i(29944),h=i(25556),j=i(35088),p=i(23691),C=i(4476),g=i(16720),b=i(71383),v=i(31601),f=i(95647),k=i(77198),y=i(26112);let A={info:{bgColor:"trueblue.100",strongColor:"trueblue.500"},warning:{bgColor:"orange.100",strongColor:"orange.700"},error:{bgColor:"red.100",strongColor:"red.500"}},w=e=>{let{productBadgeLabel:t,title:i,subtitle:d,onClick:u,cta:m,status:x="warning"}=e,{bgColor:h,strongColor:j}=A[x];return(0,n.jsxs)(r.K,{borderRadius:"md",bg:h,px:{base:2,md:3},ps:4,py:2,direction:{base:"column",sm:"row"},alignItems:"center",justifyContent:"space-between",w:"100%",children:[(0,n.jsxs)(r.K,{direction:"row",alignItems:"center",gap:2,flex:"1",children:[t?(0,n.jsx)(C.ER,{product:t}):(0,n.jsx)(s.xu,{color:j,display:{base:"none",sm:"block"},children:(0,n.jsx)(c.G,{icon:l.Pvm})}),(0,n.jsxs)(o.x,{fontSize:{base:"xs",sm:"sm"},lineHeight:"1.3",flex:"1",children:[(0,n.jsx)(o.x,{color:j,as:"strong",children:i})," ",d]})]}),m&&u&&(0,n.jsx)(a.z,{onClick:u,variant:"outline",colorScheme:"trueblue",bg:"white",size:{base:"xs",sm:"sm"},p:3,children:m})]})},S=(0,u.memo)(()=>{let{hasEnoughCreditsToGenerateDeck:e,lowCreditStatus:t}=(0,h.qO)(),{openUpsellModal:i}=(0,g.z)();return e&&!t?null:t===j.U.LOW?(0,n.jsx)(w,{status:"warning",onClick:()=>i({segmentEvent:v.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2}),title:(0,n.jsx)(d.cC,{id:"CTJW4r"}),subtitle:(0,n.jsx)(d.cC,{id:"XflhAn"}),cta:(0,n.jsx)(d.cC,{id:"y7e9aS"})}):(0,n.jsx)(w,{status:"error",onClick:()=>i({segmentEvent:v.AA.GAMMA_UPSELL_CALLOUT_AI_CREDITS_GENERATE_V2}),title:(0,n.jsx)(d.cC,{id:"caCGZW"}),subtitle:(0,n.jsx)(d.cC,{id:"XflhAn"}),cta:(0,n.jsx)(d.cC,{id:"y7e9aS"})})});S.displayName="NotEnoughCreditsUpsellWarning";let E=(0,u.memo)(()=>{let e=(0,b.CG)(m.mO),{maxTokens:t,canUpgrade:i}=(0,y.ml)(),{openUpsellModal:r}=(0,g.z)();return!e||e<t?null:e>=t&&i?(0,n.jsx)(w,{status:"warning",productBadgeLabel:"pro",onClick:()=>r({segmentEvent:v.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,n.jsx)(d.cC,{id:"265FwR"}),subtitle:(0,n.jsx)(d.cC,{id:"kaOsNu",values:{0:y.Jv.toLocaleString()}}),cta:(0,n.jsx)(d.cC,{id:"kwkhPe"})}):(0,n.jsx)(w,{status:"warning",title:(0,n.jsx)(d.cC,{id:"mWVxkj"}),subtitle:(0,n.jsx)(d.cC,{id:"qTSTz6",values:{0:y.Jv.toLocaleString()}})})});E.displayName="MaxTokensUpsellWarning";let T=(0,u.memo)(e=>{let{maxSlides:t,numSlides:i}=e;return!i||i<t?null:(0,n.jsx)(w,{status:"warning",title:(0,n.jsx)(d.cC,{id:"PbeHU2",values:{MAX_IMPORT_SLIDES:x.a}})})});T.displayName="MaxImportSlidesWarning";let _=(0,u.memo)(()=>{let e=(0,b.CG)(m.CC),[t]=(0,f.Ns)("editorMode"),{maxCards:i,canUpgrade:r}=(0,k.hw)(),{openUpsellModal:s}=(0,g.z)(),{product:o}=(0,g.z)();return!e||e<i||e===i&&"structured"===t?null:"freeform"===t&&e>=i&&r?(0,n.jsx)(w,{status:"warning",onClick:()=>s({segmentEvent:v.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,n.jsx)(d.cC,{id:"6/00Zu",values:{MAX_CARDS_PRO:k.Fv}}),cta:(0,n.jsx)(d.cC,{id:"kwkhPe"})}):"freeform"===t?null:r?(0,n.jsx)(w,{status:"warning",onClick:()=>s({segmentEvent:v.AA.GAMMA_UPSELL_CALLOUT_AI_GENERATE_LONGER}),title:(0,n.jsx)(d.cC,{id:"3wlruh",values:{maxCards:i}}),subtitle:o?(0,n.jsx)(d.cC,{id:"dBT3NQ",values:{PRO_PROPER_NOUN:p.ML,MAX_CARDS_PRO:k.Fv}}):(0,n.jsx)(d.cC,{id:"t9ke0z",values:{MAX_CARDS_PRO:k.Fv}}),cta:(0,n.jsx)(d.cC,{id:"kwkhPe"})}):(0,n.jsx)(w,{status:"warning",title:(0,n.jsx)(d.cC,{id:"dHdJAv",values:{maxCards:i}}),subtitle:(0,n.jsx)(d.cC,{id:"yLG7qf"})})});_.displayName="CardCountUpsellWarning"},26112:function(e,t,i){i.d(t,{Jv:function(){return r},ml:function(){return s}});var n=i(35534);let r=25e3,s=()=>{let e=(0,n.Y)("ai_tokens_pro"),t=(0,n.Y)("ai_tokens_plus");return{maxTokens:e?r:t?1e4:5e3,canUpgrade:!e}}},25756:function(e,t,i){i.d(t,{a:function(){return a}});var n=i(2529),r=i(97134),s=i(41019),o=i(97590);let a={trackRequestSent(e,t){console.log("[AIStream] EVENT: ai.request.sent"),t.product=(0,n.K9)((0,r.rW)()),(0,s.hq)(t);let i=performance.now();e.dispatch((0,o.Jh)({...t,startTime:i}))},trackStreamError(e,t){e.dispatch((0,o.fj)({endTime:performance.now(),interactionId:t.interactionId}));let i=(0,o.Sn)(t.interactionId)(e.getState());if(!i)return;let{startTime:n,...r}=i,{errorName:a,errorMessage:l,errorCode:c}=t,d={...r,errorName:a,errorMessage:l,errorCode:c,outputMessage:"",latency:performance.now()-n};console.log("[AIStream] EVENT: ai.request.error"),(0,s.pQ)(d)},trackStreamAbort(e,t){let i=(0,o.Sn)(t.interactionId)(e.getState());if(!i)return;let{startTime:n,...r}=i,a={...r,abortReason:t.abortReason,timeToAbort:performance.now()-n};console.log("[AIStream] EVENT: ai.request.abort"),(0,s.mV)(a)},trackStreamStart(e,t){e.dispatch((0,o.af)(t));let i=(0,o.Sn)(t.interactionId)(e.getState());if(!i)return;let{startTime:n,...r}=i,a={...r,timeToStart:performance.now()-n};console.log("[AIStream] EVENT: ai.request.streamStart"),(0,s.qZ)(a)},trackStreamResponse(e,t){e.dispatch((0,o.fj)({endTime:performance.now(),...t}));let i=(0,o.Sn)(t.interactionId)(e.getState());if(!i)return;let{startTime:n,...r}=i;console.log("[AIStream] EVENT: ai.request.response"),(0,s.o)(r)},trackStreamComplete(e,t,i){let n=(0,o.Sn)(t)(e.getState());if(!n)return;let{startTime:r,...a}=n,l={...a,timeToComplete:performance.now()-r,...i};console.log("[AIStream] EVENT: ai.request.complete"),(0,s.gb)(l)}}},88512:function(e,t,i){i.d(t,{JV:function(){return j},KJ:function(){return p},w1:function(){return g}});var n=i(52322),r=i(38035),s=i(28535),o=i(12436),a=i.n(o),l=i(2784),c=i(95453),d=i(71383),u=i(55963),m=i(36533),x=i(16810);let h=(e,t,i)=>Math.min(Math.max(e,t),i),j=e=>p((0,d.CG)((0,x.CO)(e))),p=e=>{if(!e)return;let t={base:m.pn+99,sm:m.pn+175,md:m.pn+300,lg:m.pn+450};return e<=t.base?"base":e<=t.sm?"sm":e<=t.md?"md":e<=t.lg?"lg":"xl"},C=e=>{let{position:t}=e,i=(0,l.useRef)(0),n=(0,d.TL)();return{onDragStart:(0,l.useCallback)(e=>{i.current=e},[]),onResize:(0,l.useCallback)(e=>{p(i.current)!==p(e)&&(i.current=e,n((0,x.UG)({position:t,width:e})))},[n,t])}},g=e=>{let{setWidth:t,width:i,minWidth:o=m.pn,position:d,onClose:x,panelRef:j,initialWidth:p,isDragging:g,setIsDragging:b}=e,v=(0,c.E)(),f=(0,l.useMemo)(()=>(0,u.n)(),[])>0&&d===(v?"left":"right"),{onDragStart:k,onResize:y}=C({position:d}),[A,w]=(0,l.useState)(i),[S,E]=(0,l.useState)(null),T=(0,l.useMemo)(()=>a()(e=>{let t;if("left"===d){let i=S-A;t=e.clientX-i}else t=-((e.clientX-S)*1)+A;let i=h(t,o,m.ZQ);t<=m.Nh?(j.current.style.transitionProperty="width",j.current.style.transitionDuration="var(--chakra-transition-duration-normal)",i=0):i>o&&(j.current.style.transitionProperty="",j.current.style.transitionDuration=""),y(i),j.current.style.width="".concat(i,"px")},30),[o,y,j,d,S,A]),_=(0,l.useCallback)(()=>{b(!1),E(null);let e=j.current.style.width;"0px"===e?(x(),t(p)):t(parseInt(e.replace("px",""),10)),j.current.style.transitionProperty="",j.current.style.transitionDuration="",window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",_)},[T,p,x,j,b,t]),R=(0,l.useCallback)(e=>{e.preventDefault(),k(i),b(!0),E(e.clientX),w(i)},[k,b,i]);(0,l.useEffect)(()=>(S&&(window.addEventListener("mousemove",T),window.addEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",_)}),[T,_,S]);let I=f?{position:"relative"}:{["left"===d?"right":"left"]:-4,position:"absolute"};return(0,n.jsx)(r.k,{h:"100%",bg:f?"gray.200":g?"blackAlpha.200":"rgba(0,0,0,0)",w:f?2:4,justifyContent:"center",alignItems:"center",cursor:"col-resize",_hover:{bg:f?"gray.400":"blackAlpha.200"},transitionProperty:"common",transitionDuration:"normal",role:"group",onMouseDown:R,display:["none","none","none","flex"],...I,children:!f&&(0,n.jsx)(s.xu,{bg:"white",borderRadius:"full",w:1,h:10,opacity:g?1:".5",transitionProperty:"common",transitionDuration:"normal",_groupHover:{opacity:1}})})}},46142:function(e,t,i){i.d(t,{o:function(){return eu}});var n=i(52322),r=i(56581),s=i(29117),o=i(77533),a=i(70065),l=i(55478),c=i(26284),d=i(38035),u=i(28535),m=i(62614),x=i(36474),h=i(5879),j=i(87254),p=i(2784),C=i(91694),g=i(16426),b=i(85949),v=i(86290),f=i(31601),k=i(10625),y=i(67046),A=i(32899),w=i(332),S=i(99058),E=i(27599),T=i(25481),_=i(42946),R=i(54933),I=i(49929),L=i(64253),P=i(45441),z=i(1997),O=i(90935),N=i(15222);let M=(0,p.memo)(e=>{let{theme:t}=e,i=(0,N.eo)({theme:t}),r=t.name.replace(O.Qk,"");return(0,n.jsxs)(k.v,{isLazy:!0,children:[(0,n.jsx)(y.j,{as:A.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(I.G,{icon:_.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(w.h,{children:(0,n.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(u.xu,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(o.x,{noOfLines:3,children:r}),t.createdTime&&(0,n.jsx)(o.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,P.Z)((0,z.Z)(t.createdTime),"PPP")}})}),t.createdBy&&(0,n.jsx)(L.kH,{label:t.createdBy.email,children:(0,n.jsx)(o.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,n.jsx)(E.R,{}),(0,n.jsx)(T.s,{icon:(0,n.jsx)(I.G,{icon:R.XnX,fixedWidth:!0}),onClick:i,children:(0,n.jsx)(h.cC,{id:"yKu/3Y"})})]})})]})});var G=i(45182),U=i(97134),D=i(33279),W=i(21500),V=i(11048),q=i(95405),H=i(74462),K=i(91076);let B=(0,p.memo)(e=>{let{onCustomizeThemeClick:t,onEditThemeClick:i}=e,{isGammaOrgUser:r}=(0,K.SE)(),s=r&&"production"!==q.v.APPLICATION_ENVIRONMENT;return(0,n.jsxs)(k.v,{isLazy:!0,children:[(0,n.jsx)(y.j,{as:A.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(I.G,{icon:_.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(w.h,{children:(0,n.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)(T.s,{icon:(0,n.jsx)(I.G,{icon:_.Mw$,fixedWidth:!0}),onClick:t,children:(0,n.jsx)(h.cC,{id:"XZd6AM"})}),s&&(0,n.jsx)(T.s,{color:"orange.500",icon:(0,n.jsx)(u.xu,{boxSize:"4",children:(0,n.jsx)(H.Y,{})}),onClick:i,children:"Edit theme"}),(0,n.jsx)(E.R,{}),(0,n.jsx)(u.xu,{px:4,py:0,maxW:56,children:(0,n.jsx)(o.x,{fontSize:"sm",color:"gray.600",children:(0,n.jsx)(h.cC,{id:"FV8ABd"})})})]})})]})});var X=i(29705),F=i(92850),J=i(26468),Z=i(22226),Y=i(54326),Q=i(97217),$=i(11082),ee=i(67109),et=i(50250),ei=i(75768),en=i(2338),er=i(5632),es=i(23691),eo=i(71383),ea=i(78112);let el=e=>{let{theme:t,isOpen:i,onClose:r}=e,{asPath:s}=(0,er.useRouter)(),[a,l]=(0,p.useState)(),[c,d]=(0,p.useState)(),u=(0,eo.CG)(ea.yx),x=(0,N.EW)({theme:t,showLinkToDashboard:!!u}),{data:j,loading:C}=(0,b.gec)({variables:{id:null==t?void 0:t.id},skip:!t||"new"===t.id});(0,p.useEffect)(()=>{var e,t;!C&&j&&((null===(e=j.theme)||void 0===e?void 0:e.docCount)&&l(j.theme.docCount),(null===(t=j.theme)||void 0===t?void 0:t.siteCount)&&d(j.theme.siteCount))},[C,j,l,d]);let g=(0,p.useMemo)(()=>{let e=0;return a&&a>0&&(e+=a),c&&c>0&&(e+=c),e},[a,c]);return(0,n.jsxs)(F.u_,{closeOnOverlayClick:!1,isOpen:i,onClose:r,size:"lg",children:[(0,n.jsx)(J.Z,{}),(0,n.jsxs)(Z.h,{children:[(0,n.jsx)(Y.x,{children:(0,n.jsx)(h.cC,{id:"oh7Knm",values:{0:t.name}})}),(0,n.jsx)(Q.f,{children:g>0?(0,n.jsxs)(o.x,{mb:2,children:[(0,n.jsx)(h.cC,{id:"uSopl9",values:{totalCount:g,GAMMA_ARTIFACT_PROPER_NOUN:es.Yc,GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.aq}})," ",(0,n.jsx)(h.cC,{id:"c+lbSJ",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.aq}})," ","/#themes"!==s&&(0,n.jsx)(h.cC,{id:"kLomb7",components:{0:(0,n.jsx)($.r,{color:"trueblue.500",colorScheme:"trueblue",href:O.oH,textDecoration:"underline",isExternal:!0}),1:(0,n.jsx)(X.h,{mx:"2px"})}})]}):C?(0,n.jsx)(ee.O,{h:"1em",mb:2}):(0,n.jsx)(o.x,{mb:2,children:(0,n.jsx)(h.cC,{id:"KNTN0L",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:es.aq}})})}),(0,n.jsx)(et.m,{children:(0,n.jsxs)(ei.h,{children:[(0,n.jsx)(m.z,{variant:"ghost",onClick:r,children:(0,n.jsx)(h.cC,{id:"dEgA5A"})}),(0,n.jsx)(m.z,{variant:"hazardous",onClick:()=>{x(),r()},children:(0,n.jsx)(h.cC,{id:"zck3yw"})})]})}),(0,n.jsx)(en.o,{})]})]})},ec=(0,p.memo)(e=>{let{theme:t,openThemeEditorWithThisTheme:i,onDuplicate:r,onShareLink:s,onArchiveThemeModalOpen:a,isArchiveThemeModalOpen:l,onArchiveThemeModalClose:c,hasCustomFonts:d}=e,{canMakeStandard:m,convertToStandard:x}=(0,N.Xm)(t);return(0,n.jsxs)(k.v,{isLazy:!0,children:[(0,n.jsx)(y.j,{as:A.h,isRound:!0,size:"xs",variant:"ghost",colorScheme:"blackAlpha",icon:(0,n.jsx)(I.G,{icon:_.S6C}),onClick:e=>e.stopPropagation(),children:(0,n.jsx)(h.cC,{id:"7L01XJ"})}),(0,n.jsx)(w.h,{children:(0,n.jsxs)(S.q,{zIndex:"modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)(u.xu,{px:4,py:0,maxWidth:"300px",children:[(0,n.jsx)(o.x,{noOfLines:3,children:t.name}),t.createdTime&&(0,n.jsx)(o.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"MXSt4t",values:{0:(0,P.Z)((0,z.Z)(t.createdTime),"PPP")}})}),t.createdBy&&(0,n.jsx)(L.kH,{label:t.createdBy.email,children:(0,n.jsx)(o.x,{display:"inline-block",fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"t490IT",values:{0:t.createdBy.displayName}})})})]}),(0,n.jsx)(E.R,{}),(0,n.jsx)(T.s,{icon:(0,n.jsx)(I.G,{icon:_.Xcf,fixedWidth:!0}),onClick:i,children:(0,n.jsx)(h.cC,{id:"ePK91l"})}),(0,n.jsx)(T.s,{icon:(0,n.jsx)(I.G,{icon:_.WM4,fixedWidth:!0}),onClick:r,children:(0,n.jsx)(h.cC,{id:"euc6Ns"})}),(0,n.jsxs)(T.s,{icon:(0,n.jsx)(I.G,{icon:_.nNP,fixedWidth:!0}),onClick:s,children:[(0,n.jsx)(h.cC,{id:"RGCCrg"}),d&&(0,n.jsx)(o.x,{fontSize:"sm",color:"gray.500",noOfLines:1,children:(0,n.jsx)(h.cC,{id:"A8cpC7"})})]}),(0,n.jsx)(E.R,{}),m&&(0,n.jsx)(T.s,{color:"orange.500",icon:(0,n.jsx)(u.xu,{boxSize:"4",children:(0,n.jsx)(H.Y,{})}),onClick:x,children:(0,n.jsx)(h.cC,{id:"thLYdn"})}),(0,n.jsx)(T.s,{color:"red.500",icon:(0,n.jsx)(I.G,{icon:_.N2j,fixedWidth:!0}),onClick:a,children:(0,n.jsx)(h.cC,{id:"B495Gs"})})]})}),l&&(0,n.jsx)(w.h,{children:(0,n.jsx)(el,{theme:t,isOpen:!0,onClose:c})})]})}),ed=e=>{let{isChecked:t,name:i}=e;return(0,n.jsxs)(s.U,{spacing:1,alignItems:"flex-start",children:[t&&(0,n.jsx)(r.n,{w:3,h:"auto",mr:1,mt:1,color:"trueblue.700"}),(0,n.jsx)(o.x,{fontSize:"sm",noOfLines:1,"data-testid":"theme-name",color:t?"trueblue.700":void 0,children:i})]})},eu=(0,p.memo)(e=>{var t,i,r,o;let{theme:k,isChecked:y=!1,variant:A="outline",onThemeClicked:w,disableEditing:S,hasCustomFonts:E=!1}=e,T=(0,f.z$)(),_=(0,a.p)(),R="ghost"===A,I=(0,p.useRef)(null),L=(0,p.useCallback)(()=>{(0,V.r3)({theme:k})},[k]),P=(0,p.useCallback)(()=>{(0,V.S9)({theme:k})},[k]),{isOpen:z,onOpen:N,onClose:q}=(0,l.q)({id:"ArchiveThemeModalDisclosure"}),{user:H,currentWorkspace:K}=(0,U.SE)(),[X]=(0,b.gFs)(),F=k.name.replace(O.Qk,""),J=(0,D.hH)({themeId:k.id}),{onCopy:Z}=(0,c.V)(J),Y=(0,p.useCallback)(()=>{if(!H||!K)return;let{id:e,...t}=k;X({variables:{id:e},update:(e,t)=>{let{data:i}=t;(null==i?void 0:i.duplicateTheme)&&e.writeQuery({query:b.$LR,variables:{workspaceId:k.workspaceId,archived:!1},data:{themes:[i.duplicateTheme]}})},optimisticResponse:{duplicateTheme:{id:"temp",__typename:"Theme",...t,name:"".concat(F," (copy)"),archived:!1,createdTime:new Date().toISOString(),updatedTime:new Date().toISOString()}}}).then(t=>{let{data:i}=t;i&&(null==T||T.track(f.AA.THEME_DUPLICATED,{theme_id:i.duplicateTheme.id,source_theme_id:e,name:F}),null==T||T.track(f.AA.THEME_CREATED,{theme_id:i.duplicateTheme.id,name:i.duplicateTheme.name,type:"duplicate"}),_({title:j.ag._({id:"DvRoa4",values:{0:i.duplicateTheme.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),(0,V.r3)({theme:i.duplicateTheme}))}).catch(e=>{console.error("Couldn't duplicate theme ".concat(k.name," error: ").concat(e)),_({title:j.ag._({id:"aOi88n",values:{err:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})})},[H,K,k,X,F,T,_]),Q=(0,p.useCallback)(()=>{if(!H||!K)return;let{name:e}=k;Z(),_({title:(0,n.jsx)(h.cC,{id:"EfkecX",values:{name:e}}),description:(0,n.jsx)(h.cC,{id:"MXBeyi"}),status:"success",duration:5e3,position:"top",isClosable:!0})},[H,K,k,Z,_]),$=k.workspaceId&&!!(null===(t=k.createdBy)||void 0===t?void 0:t.displayName),ee=!!w,et=!L||S,{inViewport:ei,dimensions:en,ref:er}=(0,W.R)({dimensions:{width:50,height:220}}),es=e=>{I.current=e,er(e)};return!1===ei?(0,n.jsxs)(d.k,{ref:es,bgColor:"linen.50",textAlign:"left",borderRadius:"md",outline:"none",minH:en?"".concat(en.height,"px"):"8em",minW:en?"".concat(en.width,"px"):"13em",direction:"column",p:2,sx:{contentVisibility:"auto",containIntrinsicSize:"13em"},children:[(0,n.jsx)(u.xu,{minH:"8em",maxH:"8em",bg:"gray.300",backgroundImage:g.Z.src,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),(0,n.jsx)(u.xu,{w:"100%",p:0,pt:1,children:(0,n.jsx)(ed,{name:F,isChecked:y})})]}):(0,n.jsxs)(u.xu,{ref:es,sx:{contentVisibility:"auto",containIntrinsicSize:"13em"},bgColor:y?"trueblue.100":R?void 0:"linen.50",textAlign:"left",tabIndex:ee?0:void 0,borderRadius:"md",transitionProperty:R?"common":"none",transitionDuration:"normal",outline:"none",onClick:()=>ee?null==w?void 0:w(k):void 0,onKeyPress:e=>{ee&&"Enter"===e.key&&(null==w||w(k))},_hover:ee?{shadow:R||y?void 0:"lg",bgColor:y?"trueblue.100":R?"trueblue.50":"gray.100"}:void 0,_focus:{boxShadow:y||!ee?void 0:"outline"},shadow:R?void 0:"md",p:R?2:0,"data-theme-id":k.id,"data-testid":y?"current-theme-preview":void 0,cursor:ee?"pointer":void 0,role:"group",position:"relative",children:[(0,n.jsx)(G.n,{theme:k,minH:"8em",maxH:"8em",children:y&&!S&&(0,n.jsx)(m.z,{opacity:0,_groupHover:{opacity:1},transitionProperty:"opacity",transitionDuration:"normal",position:"absolute",bottom:2,right:2,size:"sm",variant:"solid",onClick:k.workspaceId?L:P,children:k.workspaceId?(0,n.jsx)(h.cC,{id:"ePK91l"}):(0,n.jsx)(h.cC,{id:"srRMnJ"})})}),(0,n.jsxs)(d.k,{align:"baseline",mt:1,direction:"column",p:R?0:2,children:[$&&(0,n.jsx)(d.k,{my:2,children:(0,n.jsx)(ed,{name:F,isChecked:y})}),(0,n.jsxs)(s.U,{alignItems:"flex-start",w:"100%",children:[$?(0,n.jsx)(C.l,{createdByYou:(null===(i=k.createdBy)||void 0===i?void 0:i.id)===(null==H?void 0:H.id),createdByName:null===(r=k.createdBy)||void 0===r?void 0:r.displayName,createdByProfileImageUrl:null===(o=k.createdBy)||void 0===o?void 0:o.profileImageUrl,timestampDescription:k.updatedTime&&(0,n.jsx)(h.cC,{id:"E1dtM3",values:{0:(0,v.Dw)(k.updatedTime)}})}):(0,n.jsx)(ed,{name:F,isChecked:y}),(0,n.jsx)(x.L,{}),et?null:k.workspaceId&&!k.archived?(0,n.jsx)(ec,{theme:k,openThemeEditorWithThisTheme:L,onDuplicate:Y,onShareLink:Q,onArchiveThemeModalOpen:N,isArchiveThemeModalOpen:z,onArchiveThemeModalClose:q,hasCustomFonts:E}):k.workspaceId&&!0===k.archived?(0,n.jsx)(M,{theme:k}):(0,n.jsx)(B,{onCustomizeThemeClick:P,onEditThemeClick:L})]})]})]})});eu.displayName="ThemePreview"},15889:function(e,t,i){i.d(t,{t:function(){return N}});var n=i(52322),r=i(38035),s=i(36474),o=i(43297),a=i(42822),l=i(77533),c=i(62614),d=i(42946),u=i(49929),m=i(5879),x=i(2784),h=i(71383),j=i(69251),p=i(67109);let C=e=>{let{size:t}=e;return(0,n.jsx)(j.r,{gap:4,flex:1,templateColumns:{base:"repeat(2, minmax(0, 1fr))"},children:Array(t).fill(!0).map((e,t)=>(0,n.jsx)(p.O,{h:"9em",borderRadius:"base"},t))})};var g=i(29705),b=i(47443),v=i(52929),f=i(28535),k=i(80877),y=i(74444),A=i(11082),w=i(23691),S=i(11048);let E=()=>(0,n.jsxs)(o.K,{bg:"gray.100",p:4,textAlign:"left",spacing:4,borderRadius:"md",my:2,children:[(0,n.jsx)(l.x,{textAlign:"center",fontWeight:"700",children:(0,n.jsx)(m.cC,{id:"CKBcVD"})}),(0,n.jsx)(l.x,{fontSize:"sm",color:"gray.700",children:(0,n.jsx)(m.cC,{id:"vIXQub",components:{0:(0,n.jsx)("b",{}),1:(0,n.jsx)("b",{})}})}),(0,n.jsx)(c.z,{onClick:S.C5,variant:"solid","data-testid":"new-theme-button",children:(0,n.jsx)(m.cC,{id:"K1R5hx"})})]});var T=i(90935),_=i(92566),R=i(88512),I=i(46142);let L=e=>{let{themes:t,currentThemeId:i,setTheme:r,disableEditing:s}=e,o=(0,R.JV)("right"),a={base:"repeat(1, minmax(0, 1fr))",sm:"repeat(2, minmax(0, 1fr))",md:"repeat(2, minmax(0, 1fr))",lg:"repeat(3, minmax(0, 1fr))"};return(0,n.jsx)(j.r,{gap:1,flex:1,my:2,templateColumns:o?a[o]:a.sm,children:[...t].map(e=>(0,n.jsx)(I.o,{theme:e,isChecked:!!(i&&e.id===i),onThemeClicked:r,variant:"ghost",disableEditing:s},e.id))})},P=(0,x.memo)(e=>{let{currentTheme:t,setTheme:i,disableEditing:r}=e,s=(0,h.CG)(_.Y3);return(0,h.CG)(_.C0)?(0,n.jsxs)(n.Fragment,{children:[(null==t?void 0:t.archived)?(0,n.jsxs)(b.b,{status:"warning",mb:4,children:[(0,n.jsx)(v.z,{}),(0,n.jsxs)(f.xu,{children:[(0,n.jsx)(k.C,{children:(0,n.jsx)(m.cC,{id:"i7yZxh",values:{GAMMA_ARTIFACT_PROPER_NOUN:w.Yc}})}),(0,n.jsx)(y.X,{children:(0,n.jsx)(m.cC,{id:"jH2g5C",components:{0:(0,n.jsx)(A.r,{textDecoration:"underline",isExternal:!0,href:T.oH}),1:(0,n.jsx)(g.h,{mx:"2px"})}})})]})]}):null,(0,n.jsx)(o.K,{spacing:2,children:(0,n.jsx)(f.xu,{width:"100%",mx:0,children:(0,n.jsx)(L,{themes:s,currentThemeId:null==t?void 0:t.id,setTheme:i,disableEditing:r})})})]}):(0,n.jsxs)(o.K,{spacing:8,children:[!r&&(0,n.jsx)(E,{}),(0,n.jsx)(L,{themes:s,currentThemeId:null==t?void 0:t.id,setTheme:i,disableEditing:r})]})});P.displayName="ThemePickerBodyInner";var z=i(40382),O=i(45462);let N=e=>{let{setTheme:t,currentTheme:i,openBackgroundPanel:j,shouldScrollToCurrent:p=!0,disableEditing:g=!1,flexProps:b}=e,{isLoadingThemes:v}=(0,O.a)(),f=(0,h.CG)(_.FM);return(0,z.vm)(()=>{p&&!v&&"search"!==f&&(v||requestAnimationFrame(()=>{var e;return null===(e=document.querySelector('[data-theme-id="'.concat(null==i?void 0:i.id,'"]')))||void 0===e?void 0:e.scrollIntoView()}))},[v,null==i?void 0:i.id,f,p],[v,f]),(0,x.useEffect)(()=>{var e;null===(e=document.querySelector("[data-theme-picker-scroll-container]"))||void 0===e||e.scrollTo(0,0)},[f]),(0,n.jsxs)(r.k,{direction:"column",flex:1,h:"fit-content",...b,children:[v?(0,n.jsx)(C,{size:4}):(0,n.jsx)(P,{currentTheme:i,setTheme:t,disableEditing:g}),j&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.L,{}),(0,n.jsxs)(o.K,{mt:12,mb:4,p:8,border:"1px solid",borderColor:"gray.200",spacing:4,bgColor:"gray.50",borderRadius:"md",align:"center",justifyContent:"center",children:[(0,n.jsx)(a.M,{children:(0,n.jsx)(l.x,{fontSize:"sm",children:(0,n.jsx)(m.cC,{id:"UNfHm4"})})}),(0,n.jsx)(c.z,{size:"sm",w:"fit-content",leftIcon:(0,n.jsx)(u.G,{icon:d.UHQ}),onClick:j,children:(0,n.jsx)(m.cC,{id:"+EZioz"})})]})]})]})}},61387:function(e,t,i){i.d(t,{v:function(){return O}});var n=i(52322),r=(0,i(67012).I)({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"}),s=i(43297),o=i(74409),a=i(36474),l=i(38035),c=i(62614),d=i(81672),u=i(28535),m=i(75768),x=i(32899),h=i(87651),j=i(89099),p=i(16556),C=i(85573),g=i(42946),b=i(49929),v=i(64253),f=i(5879),k=i(87254),y=i(2784),A=i(74462),w=i(37012),S=i(95453),E=i(88512),T=i(16810),_=i(71383),R=i(11048),I=i(92566),L=i(97134),P=i(40382);let z={dark:{label:(0,n.jsx)(f.cC,{id:"pvnfJD"})},light:{label:(0,n.jsx)(f.cC,{id:"1njn7W"})},professional:{label:(0,n.jsx)(f.cC,{id:"Oojfbh"})},colorful:{label:(0,n.jsx)(f.cC,{id:"Op7PhG"})}},O=(0,y.memo)(e=>{let{title:t,description:i,closePanel:O,stackProps:N,currentTheme:M,showCreateButtons:G=!0}=e,U=(0,S.E)(),D=(0,_.TL)(),W=(0,_.CG)(I.FM),V=(0,_.CG)(I.s1),q=(0,y.useRef)(null),{currentWorkspace:H}=(0,L.SE)(),[K,B]=(0,y.useState)(""),X=(0,_.CG)(I.C0),F=(0,_.CG)((0,T.CO)("right")),J=(0,E.KJ)(F),Z=(0,y.useCallback)(()=>{D((0,I.uG)({activeView:"search"})),setTimeout(()=>{var e;null===(e=q.current)||void 0===e||e.focus()},200)},[D]),Y=(0,y.useCallback)(e=>{D((0,I.ql)({searchQuery:e}))},[D]),Q=(0,P.Kt)(Y,500),$=(0,y.useCallback)(e=>{B(e),Q(e)},[Q]),ee=(0,y.useCallback)(e=>{let t=[...V];V.includes(e)?t=t.filter(t=>t!==e):t.push(e),D((0,I.LT)({filterKeywords:t}))},[V,D]);(0,P.vm)(()=>{"search"!==W&&(M&&M.workspaceId===(null==H?void 0:H.id)?D((0,I.uG)({activeView:"custom"})):D((0,I.uG)({activeView:"standard"})))},[D,M,W,H],[M]);let et=(0,y.useCallback)(()=>{(0,R.C5)()},[]);(0,y.useEffect)(()=>()=>{D((0,I.el)())},[D]);let ei=(0,w.ye)("themeImportAi"),en={base:"column",sm:"column",md:"row",lg:"row"};return(0,n.jsxs)(s.K,{spacing:4,...N,children:[(0,n.jsxs)(s.K,{spacing:4,children:[(0,n.jsxs)(s.K,{spacing:4,children:[(0,n.jsxs)(s.K,{direction:J?en[J]:en.sm,width:"100%",paddingInlineEnd:O?8:void 0,children:[(0,n.jsx)(o.X,{fontSize:"3xl",children:t}),(0,n.jsx)(a.L,{}),(0,n.jsxs)(l.k,{gap:2,children:[H&&G&&(0,n.jsx)(v.kH,{label:(0,n.jsx)(f.cC,{id:"LPcaN9"}),placement:"top",children:(0,n.jsx)(c.z,{size:"sm",variant:"plain",shadow:"none",leftIcon:(0,n.jsx)(b.G,{icon:g.r8p}),onClick:et,"data-testid":"new-theme-button",children:(0,n.jsx)(f.cC,{id:"FiwgR9"})})}),ei&&G&&(0,n.jsx)(v.kH,{label:(0,n.jsx)(f.cC,{id:"OPW4Wb"}),placement:"top",children:(0,n.jsx)(c.z,{size:"sm",boxShadow:"none",variant:"plain",leftIcon:(0,n.jsx)(b.G,{icon:g.Vmj}),onClick:R.xw,children:(0,n.jsx)(f.cC,{id:"l3s5ri"})})})]}),O&&(0,n.jsx)(d.P,{position:"absolute",top:2,right:U?void 0:2,left:U?2:void 0,onClick:O})]}),i?(0,n.jsx)(u.xu,{children:i}):(0,n.jsx)(n.Fragment,{})]}),X&&(0,n.jsxs)(m.h,{variant:"ghost",size:"sm",borderRadius:"full",w:"100%",children:[(0,n.jsx)(c.z,{borderRadius:"md",w:"50%",leftIcon:(0,n.jsx)(b.G,{icon:g.D0h,fixedWidth:!0}),"data-theme-picker-active-view-button":"custom",colorScheme:"custom"===W?"trueblue":"gray",bg:"custom"===W?"trueblue.50":"transparent",color:"custom"===W?"trueblue.500":"gray.600",onClick:()=>D((0,I.uG)({activeView:"custom"})),children:(0,n.jsx)(f.cC,{id:"8Tg/JR"})}),(0,n.jsx)(c.z,{borderRadius:"md",w:"50%",leftIcon:(0,n.jsx)(u.xu,{w:3.5,children:(0,n.jsx)(A.Y,{})}),"data-theme-picker-active-view-button":"standard",colorScheme:"standard"===W?"trueblue":"gray",bg:"standard"===W?"trueblue.50":"transparent",color:"standard"===W?"trueblue.500":"gray.600",onClick:()=>D((0,I.uG)({activeView:"standard"})),children:(0,n.jsx)(f.cC,{id:"TJBHlP"})}),(0,n.jsx)(x.h,{icon:(0,n.jsx)(r,{}),isRound:!0,"data-theme-picker-active-view-button":"search","aria-label":k.ag._({id:"A1taO8"}),variant:"ghost",colorScheme:"search"===W?"trueblue":"gray",bg:"search"===W?"trueblue.100":"gray.100",onClick:Z})]})]}),(0,n.jsx)(h.U,{in:"standard"===W,children:(0,n.jsxs)(s.K,{direction:"row",children:[(0,n.jsx)(j.E,{children:Object.entries(z).map(e=>{let[t,{label:i}]=e,r=V.includes(t);return(0,n.jsx)(p.Vp,{size:"md",letterSpacing:"normal",cursor:"pointer",onClick:()=>{ee(t)},_hover:{bgColor:r?"trueblue.200":"blackAlpha.200"},colorScheme:r?"trueblue":"blackAlpha",children:i},t)})}),!X&&(0,n.jsx)(x.h,{icon:(0,n.jsx)(r,{}),borderRadius:"md",variant:"ghost",size:"xs","data-theme-picker-active-view-button":"search","aria-label":k.ag._({id:"A1taO8"}),colorScheme:"search"===W?"trueblue":"blackAlpha",bg:"search"===W?"trueblue.100":"blackAlpha.100",_hover:{bgColor:"search"===W?"trueblue.200":"blackAlpha.200"},onClick:Z})]})}),(0,n.jsx)(h.U,{in:"search"===W,children:(0,n.jsxs)(s.K,{direction:"row",children:[!X&&(0,n.jsx)(x.h,{variant:"ghost",icon:(0,n.jsx)(b.G,{icon:g.A35,fixedWidth:!0}),onClick:()=>D((0,I.uG)({activeView:"standard"})),"aria-label":k.ag._({id:"iH8pgl"})}),(0,n.jsx)(C.I,{ref:q,w:"100%",placeholder:k.ag._({id:"L0fOnm"}),value:K,onChange:e=>{$(e.target.value)}})]})})]})});O.displayName="ThemePickerHeader"}}]);
//# sourceMappingURL=1240-ba19c1878c2f6898.js.map